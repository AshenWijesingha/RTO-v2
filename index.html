<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>RedTeam Operator Dashboard v2</title>
<script src="https://cdn.tailwindcss.com"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css">
<style>
  @import url('https://fonts.googleapis.com/css2?family=Share+Tech+Mono&family=Orbitron:wght@400;700;900&family=Rajdhani:wght@300;400;600;700&display=swap');

  :root {
    --bg: #060a10;
    --bg2: #0b0f1a;
    --bg3: #0f1525;
    --neon: #00ff9f;
    --neon2: #00d4ff;
    --neon3: #bf00ff;
    --red: #ff003c;
    --yellow: #ffcc00;
    --text: #c8d6e5;
    --text-dim: #5a7a9a;
    --border: rgba(0,255,159,0.15);
    --border2: rgba(0,212,255,0.15);
    --glass: rgba(11,15,26,0.85);
    --glow: 0 0 20px rgba(0,255,159,0.3);
    --glow2: 0 0 20px rgba(0,212,255,0.3);
  }

  [data-theme="cyberpunk"] {
    --neon: #ff00aa;
    --neon2: #aa00ff;
    --neon3: #ff6600;
    --border: rgba(255,0,170,0.2);
    --border2: rgba(170,0,255,0.2);
    --glow: 0 0 20px rgba(255,0,170,0.3);
    --glow2: 0 0 20px rgba(170,0,255,0.3);
  }

  [data-theme="stealth"] {
    --neon: #00aaff;
    --neon2: #0066ff;
    --neon3: #00ffcc;
    --border: rgba(0,170,255,0.2);
    --border2: rgba(0,102,255,0.2);
    --glow: 0 0 20px rgba(0,170,255,0.3);
    --glow2: 0 0 20px rgba(0,102,255,0.3);
  }

  *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

  html { scroll-behavior: smooth; }

  body {
    background: var(--bg);
    color: var(--text);
    font-family: 'Rajdhani', sans-serif;
    font-size: 15px;
    min-height: 100vh;
    overflow-x: hidden;
  }

  /* Scroll progress */
  #scroll-progress {
    position: fixed; top: 0; left: 0; height: 2px; width: 0%;
    background: linear-gradient(90deg, var(--neon), var(--neon2));
    z-index: 9999;
    box-shadow: var(--glow);
    transition: width 0.1s linear;
  }

  /* Matrix canvas */
  #matrix-canvas {
    position: fixed; top: 0; left: 0;
    width: 100%; height: 100%;
    z-index: 0; opacity: 0.04;
    pointer-events: none;
  }

  /* Grid background */
  .grid-bg {
    position: fixed; top: 0; left: 0; right: 0; bottom: 0;
    z-index: 0; pointer-events: none;
    background-image:
      linear-gradient(rgba(0,255,159,0.03) 1px, transparent 1px),
      linear-gradient(90deg, rgba(0,255,159,0.03) 1px, transparent 1px);
    background-size: 40px 40px;
  }

  /* Sidebar */
  #sidebar {
    position: fixed; top: 0; left: 0; bottom: 0;
    width: 240px; z-index: 100;
    background: rgba(6,10,16,0.97);
    border-right: 1px solid var(--border);
    display: flex; flex-direction: column;
    transition: transform 0.3s ease;
    overflow-y: auto;
  }

  #sidebar.collapsed { transform: translateX(-240px); }

  .sidebar-logo {
    padding: 20px;
    border-bottom: 1px solid var(--border);
    display: flex; align-items: center; gap: 10px;
  }

  .logo-icon {
    width: 36px; height: 36px;
    background: linear-gradient(135deg, var(--neon), var(--neon2));
    clip-path: polygon(50% 0%, 100% 25%, 100% 75%, 50% 100%, 0% 75%, 0% 25%);
    display: flex; align-items: center; justify-content: center;
    animation: pulse-logo 2s infinite;
    flex-shrink: 0;
  }

  @keyframes pulse-logo {
    0%, 100% { box-shadow: 0 0 10px var(--neon); }
    50% { box-shadow: 0 0 25px var(--neon), 0 0 50px var(--neon); }
  }

  .logo-text {
    font-family: 'Orbitron', monospace;
    font-size: 11px; font-weight: 700;
    color: var(--neon);
    text-transform: uppercase;
    letter-spacing: 1px;
    line-height: 1.3;
  }

  .nav-section { padding: 10px 0; }

  .nav-label {
    padding: 8px 20px 4px;
    font-size: 10px; font-weight: 700;
    color: var(--text-dim);
    text-transform: uppercase;
    letter-spacing: 2px;
  }

  .nav-item {
    display: flex; align-items: center; gap: 10px;
    padding: 10px 20px;
    cursor: pointer;
    color: var(--text-dim);
    font-size: 13px;
    font-weight: 600;
    letter-spacing: 0.5px;
    text-transform: uppercase;
    transition: all 0.2s;
    border-left: 2px solid transparent;
  }

  .nav-item:hover, .nav-item.active {
    color: var(--neon);
    border-left-color: var(--neon);
    background: rgba(0,255,159,0.05);
  }

  .nav-item .icon { font-size: 14px; width: 16px; text-align: center; }

  /* Main layout */
  #main {
    margin-left: 240px;
    position: relative; z-index: 1;
    min-height: 100vh;
    transition: margin-left 0.3s ease;
  }

  #main.expanded { margin-left: 0; }

  /* Header */
  #header {
    position: sticky; top: 0; z-index: 50;
    background: rgba(6,10,16,0.95);
    backdrop-filter: blur(10px);
    border-bottom: 1px solid var(--border);
    padding: 12px 24px;
    display: flex; align-items: center; gap: 16px;
  }

  #hamburger {
    background: none; border: 1px solid var(--border);
    color: var(--neon); padding: 6px 10px;
    cursor: pointer; font-size: 16px;
    transition: all 0.2s;
    border-radius: 3px;
  }

  #hamburger:hover { background: rgba(0,255,159,0.1); box-shadow: var(--glow); }

  #header-title {
    font-family: 'Orbitron', monospace;
    font-size: 13px; font-weight: 700;
    color: var(--neon);
    letter-spacing: 2px;
    flex: 1;
  }

  .header-actions { display: flex; align-items: center; gap: 10px; }

  .btn-header {
    background: none; border: 1px solid var(--border);
    color: var(--text-dim); padding: 6px 12px;
    cursor: pointer; font-size: 12px;
    font-family: 'Share Tech Mono', monospace;
    transition: all 0.2s; border-radius: 3px;
    text-transform: uppercase; letter-spacing: 1px;
  }

  .btn-header:hover { border-color: var(--neon); color: var(--neon); background: rgba(0,255,159,0.08); }

  /* Content */
  #content { padding: 24px; }

  /* Section */
  .section { margin-bottom: 32px; }

  .section-title {
    font-family: 'Orbitron', monospace;
    font-size: 12px; font-weight: 700;
    color: var(--neon);
    text-transform: uppercase;
    letter-spacing: 3px;
    margin-bottom: 16px;
    display: flex; align-items: center; gap: 10px;
  }

  .section-title::after {
    content: '';
    flex: 1; height: 1px;
    background: linear-gradient(90deg, var(--neon), transparent);
    opacity: 0.4;
  }

  /* Glass panel */
  .panel {
    background: var(--glass);
    border: 1px solid var(--border);
    border-radius: 6px;
    backdrop-filter: blur(10px);
    transition: border-color 0.2s, box-shadow 0.2s;
  }

  .panel:hover { border-color: rgba(0,255,159,0.3); }

  /* Target Analysis */
  #scan-panel { padding: 24px; }

  .scan-input-row {
    display: flex; gap: 12px;
    margin-bottom: 20px;
    flex-wrap: wrap;
  }

  .scan-input {
    flex: 1; min-width: 280px;
    background: rgba(0,0,0,0.4);
    border: 1px solid var(--border2);
    color: var(--neon2); padding: 12px 16px;
    font-family: 'Share Tech Mono', monospace;
    font-size: 14px;
    border-radius: 4px;
    outline: none;
    transition: border-color 0.2s, box-shadow 0.2s;
  }

  .scan-input:focus {
    border-color: var(--neon2);
    box-shadow: var(--glow2);
  }

  .scan-input::placeholder { color: var(--text-dim); }

  .btn-scan {
    background: linear-gradient(135deg, var(--neon), var(--neon2));
    border: none; color: #000;
    padding: 12px 28px;
    font-family: 'Orbitron', monospace;
    font-size: 11px; font-weight: 900;
    letter-spacing: 2px;
    cursor: pointer;
    border-radius: 4px;
    transition: all 0.2s;
    text-transform: uppercase;
    white-space: nowrap;
  }

  .btn-scan:hover { transform: translateY(-1px); box-shadow: 0 4px 20px rgba(0,255,159,0.4); }
  .btn-scan:active { transform: translateY(0); }

  /* Tabs */
  .tabs { display: flex; gap: 0; margin-bottom: 20px; border-bottom: 1px solid var(--border); flex-wrap: wrap; }

  .tab {
    padding: 10px 18px;
    cursor: pointer;
    color: var(--text-dim);
    font-size: 11px; font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 1px;
    border-bottom: 2px solid transparent;
    transition: all 0.2s;
    font-family: 'Share Tech Mono', monospace;
  }

  .tab:hover { color: var(--text); }
  .tab.active { color: var(--neon); border-bottom-color: var(--neon); }

  .tab-content { display: none; }
  .tab-content.active { display: block; }

  /* Info grid */
  .info-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
    gap: 12px;
  }

  .info-card {
    background: rgba(0,0,0,0.3);
    border: 1px solid var(--border);
    border-radius: 4px; padding: 14px;
  }

  .info-label {
    font-size: 10px; font-weight: 700;
    color: var(--text-dim); text-transform: uppercase;
    letter-spacing: 2px; margin-bottom: 6px;
  }

  .info-value {
    font-family: 'Share Tech Mono', monospace;
    font-size: 13px; color: var(--neon2);
  }

  .badge {
    display: inline-block;
    padding: 3px 10px; border-radius: 3px;
    font-size: 10px; font-weight: 700;
    text-transform: uppercase; letter-spacing: 1px;
  }

  .badge-green { background: rgba(0,255,159,0.15); color: var(--neon); border: 1px solid rgba(0,255,159,0.3); }
  .badge-red { background: rgba(255,0,60,0.15); color: var(--red); border: 1px solid rgba(255,0,60,0.3); }
  .badge-yellow { background: rgba(255,204,0,0.15); color: var(--yellow); border: 1px solid rgba(255,204,0,0.3); }

  /* Loading spinner */
  .spinner {
    width: 24px; height: 24px;
    border: 2px solid var(--border);
    border-top-color: var(--neon);
    border-radius: 50%;
    animation: spin 0.8s linear infinite;
    display: none;
  }

  @keyframes spin { to { transform: rotate(360deg); } }

  /* Port table */
  .port-table { width: 100%; border-collapse: collapse; }
  .port-table th {
    background: rgba(0,255,159,0.08);
    padding: 8px 12px;
    text-align: left;
    font-size: 10px; font-weight: 700;
    text-transform: uppercase; letter-spacing: 2px;
    color: var(--neon);
    border-bottom: 1px solid var(--border);
  }
  .port-table td {
    padding: 8px 12px;
    font-family: 'Share Tech Mono', monospace;
    font-size: 12px; color: var(--text);
    border-bottom: 1px solid rgba(255,255,255,0.04);
  }
  .port-table tr:hover td { background: rgba(0,255,159,0.03); }

  /* Headers checklist */
  .header-check {
    display: flex; align-items: center; gap: 12px;
    padding: 10px 14px;
    border-bottom: 1px solid rgba(255,255,255,0.04);
  }

  .header-check:last-child { border-bottom: none; }

  .check-dot {
    width: 8px; height: 8px; border-radius: 50%;
    flex-shrink: 0;
  }

  .check-dot.present { background: var(--neon); box-shadow: 0 0 8px var(--neon); }
  .check-dot.missing { background: var(--red); box-shadow: 0 0 8px var(--red); }

  /* Code blocks */
  .code-block {
    position: relative;
    background: rgba(0,0,0,0.5) !important;
    border: 1px solid var(--border);
    border-radius: 4px;
    margin-bottom: 12px;
    transition: border-color 0.2s, box-shadow 0.2s;
  }

  .code-block:hover {
    border-color: rgba(0,255,159,0.3);
    box-shadow: var(--glow);
  }

  .code-header {
    display: flex; align-items: center; justify-content: space-between;
    padding: 8px 14px;
    border-bottom: 1px solid var(--border);
    background: rgba(0,255,159,0.05);
  }

  .code-label {
    font-family: 'Share Tech Mono', monospace;
    font-size: 11px; color: var(--neon);
    letter-spacing: 1px;
  }

  .btn-copy {
    background: none; border: 1px solid var(--border);
    color: var(--text-dim); padding: 3px 10px;
    cursor: pointer; font-size: 10px;
    font-family: 'Share Tech Mono', monospace;
    transition: all 0.2s; border-radius: 2px;
    text-transform: uppercase; letter-spacing: 1px;
  }

  .btn-copy:hover { border-color: var(--neon); color: var(--neon); }
  .btn-copy.copied { border-color: var(--neon); color: var(--neon); background: rgba(0,255,159,0.1); }

  .code-block pre {
    margin: 0 !important;
    padding: 14px !important;
    background: transparent !important;
    border-radius: 0 !important;
    font-size: 12px !important;
    overflow-x: auto;
  }

  /* Collapsible */
  .collapsible-header {
    display: flex; align-items: center; justify-content: space-between;
    padding: 14px 18px;
    cursor: pointer;
    border-bottom: 1px solid transparent;
    transition: all 0.2s;
  }

  .collapsible-header:hover { background: rgba(0,255,159,0.03); }

  .collapsible-header.open { border-bottom-color: var(--border); }

  .collapsible-title {
    font-family: 'Orbitron', monospace;
    font-size: 11px; font-weight: 700;
    color: var(--neon2);
    letter-spacing: 2px;
    text-transform: uppercase;
    display: flex; align-items: center; gap: 10px;
  }

  .phase-num {
    width: 24px; height: 24px;
    background: rgba(0,212,255,0.15);
    border: 1px solid var(--border2);
    border-radius: 3px;
    display: flex; align-items: center; justify-content: center;
    font-size: 11px; color: var(--neon2);
  }

  .collapsible-arrow {
    color: var(--text-dim); font-size: 12px;
    transition: transform 0.2s;
  }

  .collapsible-header.open .collapsible-arrow { transform: rotate(180deg); }

  .collapsible-body {
    display: none;
    padding: 16px 18px;
  }

  .collapsible-body.open { display: block; }

  .opsec-note {
    background: rgba(255,0,60,0.05);
    border: 1px solid rgba(255,0,60,0.2);
    border-left: 3px solid var(--red);
    padding: 10px 14px;
    margin-bottom: 10px;
    border-radius: 0 4px 4px 0;
    font-size: 13px;
    color: var(--text);
  }

  .opsec-note strong { color: var(--red); }

  .note-tip {
    background: rgba(0,255,159,0.05);
    border: 1px solid rgba(0,255,159,0.2);
    border-left: 3px solid var(--neon);
    padding: 10px 14px;
    margin-bottom: 10px;
    border-radius: 0 4px 4px 0;
    font-size: 13px;
    color: var(--text);
  }

  .note-tip strong { color: var(--neon); }

  /* Checklist */
  .checklist-item {
    display: flex; align-items: center; gap: 12px;
    padding: 10px 14px;
    border-bottom: 1px solid rgba(255,255,255,0.04);
    cursor: pointer;
    transition: background 0.2s;
  }

  .checklist-item:hover { background: rgba(0,255,159,0.03); }

  .checklist-item input[type="checkbox"] {
    width: 16px; height: 16px;
    accent-color: var(--neon);
    cursor: pointer;
  }

  .checklist-item.done label { text-decoration: line-through; color: var(--text-dim); }

  .checklist-item label { cursor: pointer; flex: 1; font-size: 13px; }

  .checklist-item .tag {
    font-size: 10px; padding: 2px 8px;
    border-radius: 2px; font-weight: 700;
    text-transform: uppercase; letter-spacing: 1px;
  }

  .progress-bar-wrap {
    background: rgba(0,0,0,0.3);
    border: 1px solid var(--border);
    border-radius: 4px; height: 8px;
    margin-bottom: 12px; overflow: hidden;
  }

  .progress-bar {
    height: 100%;
    background: linear-gradient(90deg, var(--neon), var(--neon2));
    border-radius: 4px;
    box-shadow: var(--glow);
    transition: width 0.4s ease;
  }

  /* Command builder */
  .builder-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 12px;
    margin-bottom: 16px;
  }

  .builder-select, .builder-input {
    background: rgba(0,0,0,0.4);
    border: 1px solid var(--border);
    color: var(--text); padding: 10px 14px;
    font-family: 'Share Tech Mono', monospace;
    font-size: 12px; border-radius: 4px; outline: none;
    transition: border-color 0.2s;
    width: 100%;
  }

  .builder-select:focus, .builder-input:focus {
    border-color: var(--neon2);
    box-shadow: var(--glow2);
  }

  .builder-select option { background: #0b0f1a; }

  .built-command {
    background: rgba(0,0,0,0.5);
    border: 1px solid var(--neon);
    border-radius: 4px; padding: 16px;
    font-family: 'Share Tech Mono', monospace;
    font-size: 14px; color: var(--neon);
    word-break: break-all;
    min-height: 50px;
    box-shadow: var(--glow);
  }

  /* Search */
  #global-search {
    background: rgba(0,0,0,0.4);
    border: 1px solid var(--border);
    color: var(--text); padding: 9px 16px;
    font-family: 'Share Tech Mono', monospace;
    font-size: 12px; border-radius: 4px; outline: none;
    transition: border-color 0.2s;
    width: 200px;
  }

  #global-search:focus { border-color: var(--neon); width: 280px; }

  mark.highlight {
    background: rgba(0,255,159,0.25);
    color: var(--neon);
    border-radius: 2px;
  }

  /* Terminal modal */
  #terminal-modal {
    display: none;
    position: fixed; inset: 0; z-index: 999;
    background: rgba(0,0,0,0.85);
    align-items: center; justify-content: center;
  }

  #terminal-modal.open { display: flex; }

  .terminal-window {
    width: 700px; max-width: 95vw;
    background: #050810;
    border: 1px solid var(--neon);
    border-radius: 6px;
    box-shadow: 0 0 60px rgba(0,255,159,0.2);
    overflow: hidden;
  }

  .terminal-titlebar {
    background: rgba(0,255,159,0.08);
    padding: 10px 16px;
    display: flex; align-items: center; justify-content: space-between;
    border-bottom: 1px solid var(--border);
  }

  .terminal-title {
    font-family: 'Share Tech Mono', monospace;
    font-size: 12px; color: var(--neon);
  }

  .terminal-close {
    background: none; border: none;
    color: var(--red); cursor: pointer;
    font-size: 16px; line-height: 1;
  }

  .terminal-output {
    height: 300px; overflow-y: auto;
    padding: 16px;
    font-family: 'Share Tech Mono', monospace;
    font-size: 12px; color: var(--neon);
    line-height: 1.8;
  }

  .terminal-output .t-cmd { color: var(--neon2); }
  .terminal-output .t-out { color: var(--text); }
  .terminal-output .t-err { color: var(--red); }

  .terminal-input-row {
    display: flex; align-items: center; gap: 8px;
    padding: 12px 16px;
    border-top: 1px solid var(--border);
  }

  .terminal-prompt { color: var(--neon); font-family: 'Share Tech Mono', monospace; font-size: 12px; }

  .terminal-input {
    flex: 1; background: none; border: none;
    color: var(--neon); outline: none;
    font-family: 'Share Tech Mono', monospace;
    font-size: 12px; caret-color: var(--neon);
  }

  /* Theme switcher */
  .theme-btn {
    width: 28px; height: 28px; border-radius: 50%;
    cursor: pointer; border: 2px solid transparent;
    transition: all 0.2s;
  }

  .theme-btn:hover, .theme-btn.active { border-color: var(--text); transform: scale(1.15); }

  /* Status indicator */
  .status-dot {
    display: inline-block; width: 8px; height: 8px;
    border-radius: 50%; background: var(--neon);
    box-shadow: 0 0 8px var(--neon);
    animation: blink 1.5s infinite;
  }

  @keyframes blink { 0%, 100% { opacity: 1; } 50% { opacity: 0.3; } }

  /* Footer */
  footer {
    border-top: 1px solid var(--border);
    padding: 20px 24px;
    text-align: center;
    font-size: 11px; color: var(--text-dim);
    font-family: 'Share Tech Mono', monospace;
    background: rgba(6,10,16,0.9);
  }

  footer span { color: var(--red); }

  /* Responsive */
  @media (max-width: 768px) {
    #sidebar { transform: translateX(-240px); }
    #sidebar.open { transform: translateX(0); }
    #main { margin-left: 0; }
    .builder-grid { grid-template-columns: 1fr; }
    #global-search { width: 140px; }
  }

  /* Scrollbar */
  ::-webkit-scrollbar { width: 4px; height: 4px; }
  ::-webkit-scrollbar-track { background: var(--bg); }
  ::-webkit-scrollbar-thumb { background: var(--border); border-radius: 2px; }
  ::-webkit-scrollbar-thumb:hover { background: var(--neon); }

  /* Subsection label */
  .sub-label {
    font-size: 10px; font-weight: 700;
    color: var(--neon3); text-transform: uppercase;
    letter-spacing: 2px; margin: 16px 0 8px;
  }

  .grid-2 {
    display: grid; grid-template-columns: 1fr 1fr;
    gap: 12px;
  }

  @media (max-width: 600px) { .grid-2 { grid-template-columns: 1fr; } }
</style>
</head>
<body>

<div id="scroll-progress"></div>
<canvas id="matrix-canvas"></canvas>
<div class="grid-bg"></div>

<!-- Sidebar -->
<nav id="sidebar">
  <div class="sidebar-logo">
    <div class="logo-icon"></div>
    <div class="logo-text">Red Team<br>Operator v2</div>
  </div>
  <div class="nav-section">
    <div class="nav-label">Intelligence</div>
    <div class="nav-item active" onclick="scrollTo_('#target-section')"><span class="icon">◈</span> Target Analysis</div>
    <div class="nav-item" onclick="scrollTo_('#domain-section')"><span class="icon">◉</span> Domain Info</div>
    <div class="nav-item" onclick="scrollTo_('#ports-section')"><span class="icon">⌇</span> Port Scanner</div>
  </div>
  <div class="nav-section">
    <div class="nav-label">Knowledge Base</div>
    <div class="nav-item" onclick="scrollTo_('#lifecycle-section')"><span class="icon">◎</span> Red Team Lifecycle</div>
    <div class="nav-item" onclick="scrollTo_('#nmap-section')"><span class="icon">⎈</span> Nmap Library</div>
    <div class="nav-item" onclick="scrollTo_('#enum-section')"><span class="icon">⊞</span> Enumeration</div>
  </div>
  <div class="nav-section">
    <div class="nav-label">Tools</div>
    <div class="nav-item" onclick="scrollTo_('#builder-section')"><span class="icon">⚙</span> Command Builder</div>
    <div class="nav-item" onclick="scrollTo_('#checklist-section')"><span class="icon">☑</span> Checklist</div>
    <div class="nav-item" onclick="openTerminal()"><span class="icon">▶</span> Terminal</div>
  </div>
</nav>

<!-- Header -->
<header id="header">
  <button id="hamburger" onclick="toggleSidebar()">☰</button>
  <div id="header-title"><span class="status-dot"></span> &nbsp;REDTEAM OPERATOR DASHBOARD</div>
  <div class="header-actions">
    <input type="text" id="global-search" placeholder="Search commands..." oninput="handleSearch(this.value)">
    <button class="btn-header" onclick="openTerminal()">▶ Terminal</button>
    <div style="display:flex;gap:6px;align-items:center;">
      <div class="theme-btn active" style="background:linear-gradient(135deg,#00ff9f,#00d4ff)" onclick="setTheme('', this)" title="Matrix Green"></div>
      <div class="theme-btn" style="background:linear-gradient(135deg,#ff00aa,#aa00ff)" onclick="setTheme('cyberpunk', this)" title="Cyberpunk"></div>
      <div class="theme-btn" style="background:linear-gradient(135deg,#00aaff,#0066ff)" onclick="setTheme('stealth', this)" title="Stealth Blue"></div>
    </div>
  </div>
</header>

<!-- Main -->
<main id="main">
<div id="content">

<!-- TARGET ANALYSIS -->
<div class="section" id="target-section">
  <div class="section-title">◈ Target Analysis Panel</div>
  <div class="panel" id="scan-panel">
    <div class="scan-input-row">
      <input type="text" class="scan-input" id="target-input" placeholder="Enter company domain or IP (example.com or 192.168.1.1)" value="">
      <div class="spinner" id="scan-spinner"></div>
      <button class="btn-scan" onclick="runAnalysis()">▶ Start Analysis</button>
    </div>
    <div id="analysis-status" class="mt-2 text-xs text-cyan-200" aria-live="polite"></div>

    <div class="tabs" id="analysis-tabs">
      <div class="tab active" onclick="switchTab('domain')">Domain Info</div>
      <div class="tab" onclick="switchTab('ssl')">SSL/TLS</div>
      <div class="tab" onclick="switchTab('ports')">Open Ports</div>
      <div class="tab" onclick="switchTab('whois')">WHOIS</div>
      <div class="tab" onclick="switchTab('headers')">Sec Headers</div>
      <div class="tab" onclick="switchTab('http')">HTTP Info</div>
      <div class="tab" onclick="switchTab('tech')">Tech Stack</div>
    </div>

    <!-- Domain Info -->
    <div class="tab-content active" id="tab-domain">
      <div class="info-grid" id="domain-results">
        <div class="info-card"><div class="info-label">Status</div><div class="info-value">Enter a target above to begin analysis</div></div>
      </div>
    </div>

    <!-- SSL -->
    <div class="tab-content" id="tab-ssl">
      <div class="info-grid" id="ssl-results">
        <div class="info-card"><div class="info-label">Status</div><div class="info-value">Awaiting target input...</div></div>
      </div>
    </div>

    <!-- Ports -->
    <div class="tab-content" id="tab-ports">
      <div style="display:flex;gap:12px;margin-bottom:14px;flex-wrap:wrap;">
        <input type="text" class="scan-input" style="min-width:160px;flex:0 1 200px" id="port-range" placeholder="Port range (1-1000)" value="1-1000">
        <select class="builder-select" id="port-scan-type" style="flex:0 1 160px">
          <option>TCP Connect</option>
          <option>SYN Scan</option>
          <option>UDP Scan</option>
          <option>Service Detect</option>
        </select>
        <button class="btn-scan" onclick="runPortScan()">Scan Ports</button>
      </div>
      <div id="port-results">
        <table class="port-table">
          <thead><tr><th>Port</th><th>Service</th><th>Status</th><th>Version</th></tr></thead>
          <tbody id="port-tbody"><tr><td colspan="4" style="color:var(--text-dim);text-align:center;padding:20px">Enter a target and click Scan Ports</td></tr></tbody>
        </table>
      </div>
    </div>

    <!-- WHOIS -->
    <div class="tab-content" id="tab-whois">
      <div class="info-grid" id="whois-results">
        <div class="info-card"><div class="info-label">Status</div><div class="info-value">Awaiting target input...</div></div>
      </div>
    </div>

    <!-- Security Headers -->
    <div class="tab-content" id="tab-headers">
      <div id="headers-results">
        <div style="color:var(--text-dim);padding:20px;text-align:center;font-family:'Share Tech Mono',monospace;font-size:12px">Enter a target and run analysis to check security headers</div>
      </div>
    </div>

    <!-- HTTP -->
    <div class="tab-content" id="tab-http">
      <div class="info-grid" id="http-results">
        <div class="info-card"><div class="info-label">Status</div><div class="info-value">Awaiting target input...</div></div>
      </div>
    </div>

    <!-- Tech Stack -->
    <div class="tab-content" id="tab-tech">
      <div class="info-grid" id="tech-results">
        <div class="info-card"><div class="info-label">Status</div><div class="info-value">Awaiting target input...</div></div>
      </div>
    </div>

  </div><!-- end panel -->
</div>

<!-- RED TEAM LIFECYCLE -->
<div class="section" id="lifecycle-section">
  <div class="section-title">◎ Red Team Lifecycle</div>
  <div class="panel" id="lifecycle-panel">
    <!-- Phases will be injected by JS -->
  </div>
</div>

<!-- NMAP LIBRARY -->
<div class="section" id="nmap-section">
  <div class="section-title">⎈ Nmap Command Library</div>
  <div id="nmap-blocks">
    <!-- Injected by JS -->
  </div>
</div>

<!-- ENUMERATION -->
<div class="section" id="enum-section">
  <div class="section-title">⊞ Enumeration Script Library</div>
  <div id="enum-blocks">
    <!-- Injected by JS -->
  </div>
</div>

<!-- COMMAND BUILDER -->
<div class="section" id="builder-section">
  <div class="section-title">⚙ Smart Nmap Command Builder</div>
  <div class="panel" style="padding:20px">
    <div class="builder-grid">
      <div>
        <div class="info-label" style="margin-bottom:6px">Target</div>
        <input type="text" class="builder-input" id="b-target" placeholder="target.com or 192.168.1.1" oninput="buildCommand()">
      </div>
      <div>
        <div class="info-label" style="margin-bottom:6px">Scan Type</div>
        <select class="builder-select" id="b-type" onchange="buildCommand()">
          <option value="-sS">SYN Scan (-sS)</option>
          <option value="-sT">TCP Connect (-sT)</option>
          <option value="-sU">UDP Scan (-sU)</option>
          <option value="-sN">NULL Scan (-sN)</option>
          <option value="-sF">FIN Scan (-sF)</option>
          <option value="-sX">XMAS Scan (-sX)</option>
        </select>
      </div>
      <div>
        <div class="info-label" style="margin-bottom:6px">Port Range</div>
        <input type="text" class="builder-input" id="b-ports" placeholder="e.g. 22,80,443 or 1-65535" oninput="buildCommand()">
      </div>
      <div>
        <div class="info-label" style="margin-bottom:6px">Script / Detection</div>
        <select class="builder-select" id="b-script" onchange="buildCommand()">
          <option value="">None</option>
          <option value="-sV">Service Version (-sV)</option>
          <option value="-O">OS Detection (-O)</option>
          <option value="-A">Aggressive (-A)</option>
          <option value="--script vuln">Vuln Scripts</option>
          <option value="--script http-enum">HTTP Enum</option>
          <option value="--script smb-enum-shares">SMB Enum</option>
          <option value="--script ssl-enum-ciphers">SSL Ciphers</option>
        </select>
      </div>
      <div>
        <div class="info-label" style="margin-bottom:6px">Timing</div>
        <select class="builder-select" id="b-timing" onchange="buildCommand()">
          <option value="">Default</option>
          <option value="-T0">T0 – Paranoid</option>
          <option value="-T1">T1 – Sneaky</option>
          <option value="-T2">T2 – Polite</option>
          <option value="-T3">T3 – Normal</option>
          <option value="-T4">T4 – Aggressive</option>
          <option value="-T5">T5 – Insane</option>
        </select>
      </div>
      <div>
        <div class="info-label" style="margin-bottom:6px">Output</div>
        <select class="builder-select" id="b-output" onchange="buildCommand()">
          <option value="">No output file</option>
          <option value="-oN output.txt">Normal (-oN)</option>
          <option value="-oX output.xml">XML (-oX)</option>
          <option value="-oG output.gnmap">Grepable (-oG)</option>
          <option value="-oA output">All formats (-oA)</option>
        </select>
      </div>
    </div>
    <div class="info-label" style="margin-bottom:8px">Generated Command</div>
    <div class="built-command" id="built-command">nmap <span style="color:var(--text-dim)"># configure options above</span></div>
    <div style="display:flex;gap:10px;margin-top:12px">
      <button class="btn-copy" onclick="copyBuiltCommand()">Copy Command</button>
    </div>
  </div>
</div>

<!-- CHECKLIST -->
<div class="section" id="checklist-section">
  <div class="section-title">☑ Red Team Checklist</div>
  <div class="panel" style="padding:20px">
    <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:12px">
      <div style="font-family:'Share Tech Mono',monospace;font-size:12px;color:var(--text-dim)">Progress: <span id="checklist-pct" style="color:var(--neon)">0%</span></div>
      <button class="btn-copy" onclick="resetChecklist()">Reset</button>
    </div>
    <div class="progress-bar-wrap"><div class="progress-bar" id="checklist-bar" style="width:0%"></div></div>
    <div id="checklist-items"><!-- Injected by JS --></div>
  </div>
</div>

<!-- DOMAIN/PORT section anchors -->
<div id="domain-section"></div>
<div id="ports-section"></div>

</div><!-- end content -->

<footer>
  <div style="margin-bottom:6px;font-size:13px;color:var(--text)">RedTeam Operator Dashboard v2</div>
  <span>⚠ AUTHORIZED USE ONLY</span> — This application is for authorized penetration testing and cybersecurity research only.<br>
  Unauthorized scanning of systems without explicit permission is illegal under the Computer Fraud and Abuse Act and equivalent laws worldwide.
</footer>
</main>

<!-- Terminal Modal -->
<div id="terminal-modal">
  <div class="terminal-window">
    <div class="terminal-titlebar">
      <span class="terminal-title">▶ OPERATOR TERMINAL</span>
      <button class="terminal-close" onclick="closeTerminal()">✕</button>
    </div>
    <div class="terminal-output" id="terminal-output"></div>
    <div class="terminal-input-row">
      <span class="terminal-prompt">operator@redteam:~$</span>
      <input type="text" class="terminal-input" id="terminal-input" placeholder="type 'help' for commands..." onkeydown="handleTerminalInput(event)">
    </div>
  </div>
</div>

<script>
// ══════════════════════════════════════════════
// DATA
// ══════════════════════════════════════════════

const LIFECYCLE_PHASES = [
  {
    num: '01', name: 'Reconnaissance', icon: '◉',
    steps: ['Passive OSINT: LinkedIn, Shodan, Censys', 'WHOIS, DNS enumeration, subdomain discovery', 'Email harvesting (theHarvester, Hunter.io)', 'Technology fingerprinting', 'Infrastructure mapping'],
    opsec: 'Never connect directly to target. Use VPN/Tor. Avoid Google Dorking from corporate IPs.',
    detect: 'Keep noise low. Avoid mass DNS queries. Use passive tools where possible.',
    logging: 'Your DNS queries may be logged. Shodan searches are anonymous. LinkedIn views are tracked.'
  },
  {
    num: '02', name: 'Scanning', icon: '⌇',
    steps: ['Nmap host discovery (-sn flag)', 'Port scanning (SYN scan preferred)', 'Service/version detection (-sV)', 'OS fingerprinting (-O)', 'Banner grabbing'],
    opsec: 'Use decoy IPs (-D flag). Fragment packets (-f). Use slow timing (-T1 or -T2).',
    detect: 'IDS/IPS may trigger on SYN floods. Randomize scan order (-r). Avoid default timing on sensitive targets.',
    logging: 'Every packet sent is potentially logged by perimeter security. Assume detection on enterprise targets.'
  },
  {
    num: '03', name: 'Enumeration', icon: '⊞',
    steps: ['SMB shares and user enumeration (enum4linux)', 'SNMP community string enumeration', 'DNS zone transfer attempts', 'LDAP enumeration on AD environments', 'Web directory fuzzing (gobuster, ffuf)', 'Default credential testing'],
    opsec: 'Enumerate from different source IPs. Use legitimate-looking User-Agents for web enum.',
    detect: 'SMB enum may trigger AV. Multiple auth failures → account lockout. Space out requests.',
    logging: 'All SMB auth attempts logged in Windows Event Viewer. SNMP queries logged on network devices.'
  },
  {
    num: '04', name: 'Exploitation', icon: '◈',
    steps: ['CVE-based exploitation (Metasploit, manual PoC)', 'Web app attacks (SQLi, XSS, SSRF, LFI)', 'Password attacks (Hydra, Hashcat)', 'Client-side attacks (phishing, macro payloads)', 'Service exploits'],
    opsec: 'Use staged payloads. Encode shellcode. Bypass AV with custom implants. Avoid Metasploit defaults.',
    detect: 'Standard Metasploit payloads are heavily signatured. Use custom stagers. Test AV bypass before engagement.',
    logging: 'PowerShell execution logged by AMSI/ETW. Disable/bypass logging where authorized. Document scope.'
  },
  {
    num: '05', name: 'Privilege Escalation', icon: '▲',
    steps: ['Local privilege escalation (SUID, sudo misconfig, kernel exploit)', 'Token impersonation (Windows - Potato exploits)', 'DLL hijacking / weak service permissions', 'Password reuse / credential spraying', 'AS-REP Roasting, Kerberoasting on AD'],
    opsec: 'Run linPEAS/winPEAS from memory when possible. Avoid writing tools to disk.',
    detect: 'New processes, unexpected service installs trigger EDR. Use LOLBins (Living off the Land Binaries).',
    logging: 'Windows: check Security Event Log 4672/4673 (special privileges). Linux: /var/log/auth.log, /var/log/secure.'
  },
  {
    num: '06', name: 'Persistence', icon: '⚓',
    steps: ['Cron jobs / Scheduled tasks', 'Registry Run keys (Windows)', 'SSH key injection', 'Web shells on servers', 'Service-based persistence', 'WMI event subscriptions'],
    opsec: 'Use unusual filenames. Blend with system files. Avoid user home directories.',
    detect: 'EDR monitors registry changes, new scheduled tasks, and WMI subscriptions heavily.',
    logging: 'Windows: Sysmon captures reg modifications. Linux: auditd tracks file creation. Be aware.'
  },
  {
    num: '07', name: 'Lateral Movement', icon: '→',
    steps: ['Pass-the-Hash / Pass-the-Ticket (Mimikatz)', 'WMI / PsExec / SMB exec', 'RDP pivoting', 'SSH tunneling and port forwarding', 'Token delegation abuse'],
    opsec: 'Reuse stolen tokens rather than new logins. Avoid creating new user accounts unless specified.',
    detect: 'Lateral movement is high noise. Use scheduled hours (business hours blend in). Avoid 3AM activity.',
    logging: 'Windows Event ID 4624 (logon), 4648 (explicit credential logon). Every admin connection logged.'
  },
  {
    num: '08', name: 'Exfiltration', icon: '↑',
    steps: ['Data staging and compression', 'Encrypted tunnels (C2 over HTTPS/DNS)', 'ICMP tunneling', 'Steganography for covert transfer', 'Cloud storage exfil (Dropbox, OneDrive)'],
    opsec: 'Never exfil large amounts quickly. Stage data, compress, encrypt. Exfil over allowed protocols (HTTPS:443).',
    detect: 'DLP solutions monitor large outbound transfers. DNS tunneling has distinct packet size patterns.',
    logging: 'Firewall logs all outbound connections. Use authorized C2 infrastructure. Avoid personal IPs.'
  },
  {
    num: '09', name: 'Cleanup', icon: '✕',
    steps: ['Remove web shells and backdoors', 'Clear relevant log entries (document for report)', 'Restore modified configurations', 'Remove persistence mechanisms', 'Document all changes for client report'],
    opsec: 'Do NOT delete all logs — this is itself detectable and may violate scope. Restore to original state.',
    detect: 'Mass log deletion is a huge red flag. Selective and documented cleanup is preferred.',
    logging: 'Provide full cleanup report to client. Document every artifact created and removed.'
  }
];

const NMAP_COMMANDS = [
  {
    label: 'Basic Discovery',
    commands: [
      { name: 'Default Scan', cmd: 'nmap target.com' },
      { name: 'Ping Sweep (no port scan)', cmd: 'nmap -sn 192.168.1.0/24' },
      { name: 'Skip Host Discovery', cmd: 'nmap -Pn target.com' },
      { name: 'SYN Scan (stealth)', cmd: 'nmap -sS target.com' },
      { name: 'TCP Connect Scan', cmd: 'nmap -sT target.com' },
    ]
  },
  {
    label: 'Service & Version Detection',
    commands: [
      { name: 'Version Detection', cmd: 'nmap -sV target.com' },
      { name: 'Aggressive Scan', cmd: 'nmap -A target.com' },
      { name: 'OS Detection', cmd: 'nmap -O target.com' },
      { name: 'Full Aggressive + Timing', cmd: 'nmap -A -T4 target.com' },
    ]
  },
  {
    label: 'Port Range Scans',
    commands: [
      { name: 'All Ports', cmd: 'nmap -p- target.com' },
      { name: 'Common Ports', cmd: 'nmap -p 22,80,443,3306,8080,8443 target.com' },
      { name: 'Top 1000 Ports', cmd: 'nmap --top-ports 1000 target.com' },
      { name: 'UDP Scan', cmd: 'nmap -sU -p 53,161,500,4500 target.com' },
    ]
  },
  {
    label: 'Vulnerability Scripts',
    commands: [
      { name: 'All Vuln Scripts', cmd: 'nmap --script vuln target.com' },
      { name: 'HTTP Enumeration', cmd: 'nmap --script http-enum target.com' },
      { name: 'SMB Shares Enum', cmd: 'nmap --script smb-enum-shares target.com' },
      { name: 'SSL Cipher Check', cmd: 'nmap --script ssl-enum-ciphers -p 443 target.com' },
      { name: 'Heartbleed Check', cmd: 'nmap --script ssl-heartbleed -p 443 target.com' },
      { name: 'Default Creds', cmd: 'nmap --script http-default-accounts target.com' },
    ]
  },
  {
    label: 'Evasion & OPSEC',
    commands: [
      { name: 'Decoy Scan', cmd: 'nmap -D RND:10 target.com' },
      { name: 'Fragment Packets', cmd: 'nmap -f target.com' },
      { name: 'Slow/Paranoid Timing', cmd: 'nmap -T1 target.com' },
      { name: 'Randomize Host Order', cmd: 'nmap -r target.com' },
      { name: 'Custom Source Port', cmd: 'nmap --source-port 53 target.com' },
    ]
  },
  {
    label: 'Output Formats',
    commands: [
      { name: 'Normal Text Output', cmd: 'nmap -oN output.txt target.com' },
      { name: 'XML Output', cmd: 'nmap -oX output.xml target.com' },
      { name: 'Grepable Output', cmd: 'nmap -oG output.gnmap target.com' },
      { name: 'All Formats', cmd: 'nmap -oA output target.com' },
    ]
  }
];

const ENUM_COMMANDS = [
  {
    label: 'SMB Enumeration',
    commands: [
      { name: 'enum4linux Full Scan', cmd: 'enum4linux -a target.com' },
      { name: 'List Shares', cmd: 'smbclient -L //target.com -N' },
      { name: 'SMB Map', cmd: 'smbmap -H target.com' },
      { name: 'CrackMapExec SMB', cmd: 'crackmapexec smb target.com -u "" -p ""' },
    ]
  },
  {
    label: 'DNS Enumeration',
    commands: [
      { name: 'Zone Transfer', cmd: 'dig axfr @ns1.target.com target.com' },
      { name: 'All DNS Records', cmd: 'dig any target.com' },
      { name: 'Subdomain Brute', cmd: 'dnsrecon -d target.com -t brt -D /usr/share/wordlists/dnsmap.txt' },
      { name: 'DNSEnum', cmd: 'dnsenum target.com' },
    ]
  },
  {
    label: 'Web Enumeration',
    commands: [
      { name: 'GoBuster Directories', cmd: 'gobuster dir -u http://target.com -w /usr/share/wordlists/dirb/common.txt' },
      { name: 'ffuf Fuzzing', cmd: 'ffuf -w wordlist.txt -u http://target.com/FUZZ' },
      { name: 'Nikto Web Scan', cmd: 'nikto -h http://target.com' },
      { name: 'WhatWeb Detect', cmd: 'whatweb target.com' },
    ]
  },
  {
    label: 'SNMP Enumeration',
    commands: [
      { name: 'SNMPWalk (public)', cmd: 'snmpwalk -v2c -c public target.com' },
      { name: 'SNMP Community Brute', cmd: 'onesixtyone -c /usr/share/doc/onesixtyone/dict.txt target.com' },
      { name: 'SNMP Check', cmd: 'snmp-check target.com' },
    ]
  },
  {
    label: 'FTP / SSH Enumeration',
    commands: [
      { name: 'FTP Anonymous Login', cmd: 'ftp target.com' },
      { name: 'FTP Brute (Hydra)', cmd: 'hydra -l admin -P /usr/share/wordlists/rockyou.txt ftp://target.com' },
      { name: 'SSH Version Banner', cmd: 'nc -nv target.com 22' },
      { name: 'SSH Brute (Hydra)', cmd: 'hydra -l root -P /usr/share/wordlists/rockyou.txt ssh://target.com' },
    ]
  },
  {
    label: 'LDAP / Active Directory',
    commands: [
      { name: 'LDAP Enum (anonymous)', cmd: 'ldapsearch -x -h target.com -b "dc=target,dc=com"' },
      { name: 'BloodHound Collection', cmd: 'bloodhound-python -d target.com -u user -p pass -ns 10.0.0.1 -c All' },
      { name: 'Kerbrute User Enum', cmd: 'kerbrute userenum -d target.com users.txt' },
      { name: 'Kerberoasting', cmd: 'GetUserSPNs.py target.com/user:password -outputfile hashes.kerberoast' },
    ]
  }
];

const CHECKLIST_ITEMS = [
  { id: 'c1', phase: 'Recon', text: 'Passive OSINT complete (Shodan, Censys, LinkedIn)', tag: 'recon', color: 'badge-yellow' },
  { id: 'c2', phase: 'Recon', text: 'Subdomain enumeration performed', tag: 'recon', color: 'badge-yellow' },
  { id: 'c3', phase: 'Recon', text: 'Email addresses harvested', tag: 'recon', color: 'badge-yellow' },
  { id: 'c4', phase: 'Scanning', text: 'Full port scan completed on all in-scope IPs', tag: 'scan', color: 'badge-green' },
  { id: 'c5', phase: 'Scanning', text: 'Service/version detection run (-sV)', tag: 'scan', color: 'badge-green' },
  { id: 'c6', phase: 'Scanning', text: 'OS fingerprinting performed', tag: 'scan', color: 'badge-green' },
  { id: 'c7', phase: 'Enum', text: 'SMB enumeration complete', tag: 'enum', color: 'badge-green' },
  { id: 'c8', phase: 'Enum', text: 'Web directory fuzzing performed', tag: 'enum', color: 'badge-green' },
  { id: 'c9', phase: 'Enum', text: 'DNS zone transfer attempted', tag: 'enum', color: 'badge-green' },
  { id: 'c10', phase: 'Enum', text: 'Default credentials checked on all services', tag: 'enum', color: 'badge-green' },
  { id: 'c11', phase: 'Exploit', text: 'All identified CVEs tested', tag: 'exploit', color: 'badge-red' },
  { id: 'c12', phase: 'Exploit', text: 'Web app OWASP Top 10 checked', tag: 'exploit', color: 'badge-red' },
  { id: 'c13', phase: 'Exploit', text: 'Client-side attack vectors assessed', tag: 'exploit', color: 'badge-red' },
  { id: 'c14', phase: 'PrivEsc', text: 'Local privilege escalation vectors checked', tag: 'privesc', color: 'badge-red' },
  { id: 'c15', phase: 'PrivEsc', text: 'Token impersonation / Potato attacks tested', tag: 'privesc', color: 'badge-red' },
  { id: 'c16', phase: 'Pivot', text: 'Lateral movement paths identified', tag: 'lateral', color: 'badge-yellow' },
  { id: 'c17', phase: 'Persist', text: 'Persistence mechanisms tested and documented', tag: 'persist', color: 'badge-yellow' },
  { id: 'c18', phase: 'Report', text: 'All findings documented with PoC evidence', tag: 'report', color: 'badge-green' },
  { id: 'c19', phase: 'Report', text: 'Cleanup performed and verified', tag: 'report', color: 'badge-green' },
  { id: 'c20', phase: 'Report', text: 'Final report delivered to client', tag: 'report', color: 'badge-green' },
];

// ══════════════════════════════════════════════
// MATRIX CANVAS
// ══════════════════════════════════════════════
function initMatrix() {
  const canvas = document.getElementById('matrix-canvas');
  const ctx = canvas.getContext('2d');
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
  const cols = Math.floor(canvas.width / 16);
  const drops = Array(cols).fill(1);
  const chars = '01アイウエオカキクケコサシスセソタチツテトナニヌネノ';

  function draw() {
    ctx.fillStyle = 'rgba(6,10,16,0.05)';
    ctx.fillRect(0, 0, canvas.width, canvas.height);
    ctx.fillStyle = getComputedStyle(document.documentElement).getPropertyValue('--neon').trim() || '#00ff9f';
    ctx.font = '12px Share Tech Mono';
    drops.forEach((d, i) => {
      const text = chars[Math.floor(Math.random() * chars.length)];
      ctx.fillText(text, i * 16, d * 16);
      if (d * 16 > canvas.height && Math.random() > 0.975) drops[i] = 0;
      drops[i]++;
    });
  }
  setInterval(draw, 60);
  window.addEventListener('resize', () => { canvas.width = window.innerWidth; canvas.height = window.innerHeight; });
}

// ══════════════════════════════════════════════
// SCROLL PROGRESS
// ══════════════════════════════════════════════
window.addEventListener('scroll', () => {
  const el = document.getElementById('scroll-progress');
  const h = document.documentElement.scrollHeight - window.innerHeight;
  el.style.width = (window.scrollY / h * 100) + '%';
});

// ══════════════════════════════════════════════
// SIDEBAR
// ══════════════════════════════════════════════
function toggleSidebar() {
  const sb = document.getElementById('sidebar');
  const mn = document.getElementById('main');
  if (window.innerWidth > 768) {
    sb.classList.toggle('collapsed');
    mn.classList.toggle('expanded');
  } else {
    sb.classList.toggle('open');
  }
}

function scrollTo_(id) {
  document.querySelector(id)?.scrollIntoView({ behavior: 'smooth' });
}

// ══════════════════════════════════════════════
// THEME
// ══════════════════════════════════════════════
function setTheme(theme, el) {
  document.documentElement.setAttribute('data-theme', theme);
  localStorage.setItem('rt-theme', theme);
  document.querySelectorAll('.theme-btn').forEach(b => b.classList.remove('active'));
  if (el) el.classList.add('active');
}

// ══════════════════════════════════════════════
// TABS
// ══════════════════════════════════════════════
function switchTab(name) {
  document.querySelectorAll('.tab').forEach((t, i) => t.classList.remove('active'));
  document.querySelectorAll('.tab-content').forEach(t => t.classList.remove('active'));
  document.getElementById('tab-' + name)?.classList.add('active');
  // Activate the clicked tab button
  const tabs = document.querySelectorAll('.tab');
  const tabMap = ['domain','ssl','ports','whois','headers','http','tech'];
  const idx = tabMap.indexOf(name);
  if (idx >= 0) tabs[idx]?.classList.add('active');
}

// ══════════════════════════════════════════════
// ANALYSIS ENGINE (Simulated)
// ══════════════════════════════════════════════
function parseTarget(rawTarget) {
  const input = rawTarget.trim();
  if (!input) return null;
  const normalized = input.match(/^https?:\/\//i) ? input : `https://${input}`;
  try {
    const url = new URL(normalized);
    return {
      raw: input,
      host: url.hostname,
      protocol: url.protocol.replace(':', ''),
      pathname: url.pathname,
      isIP: /^(25[0-5]|2[0-4]\d|1?\d?\d)(\.(25[0-5]|2[0-4]\d|1?\d?\d)){3}$/.test(url.hostname)
    };
  } catch {
    return null;
  }
}

async function runAnalysis() {
  const target = document.getElementById('target-input').value.trim();
  const parsed = parseTarget(target);
  const status = document.getElementById('analysis-status');
  if (!parsed) {
    status.textContent = 'Please enter a valid domain, URL, or IPv4 address.';
    return;
  }
  status.textContent = `Running passive analysis for ${parsed.host}...`;

  const spinner = document.getElementById('scan-spinner');
  spinner.style.display = 'block';

  setTimeout(async () => {
    const intel = await fetchPassiveIntel(parsed);
    spinner.style.display = 'none';
    populateResults(parsed, intel);
    status.textContent = `Analysis complete for ${parsed.host}.`; 
  }, 1800);
}

async function fetchPassiveIntel(parsed) {
  const result = { dns: null, rdap: null, headers: null };
  try {
    const dnsResp = await fetch(`https://dns.google/resolve?name=${encodeURIComponent(parsed.host)}&type=A`);
    if (dnsResp.ok) result.dns = await dnsResp.json();
  } catch {}
  if (!parsed.isIP) {
    try {
      const rdapResp = await fetch(`https://rdap.org/domain/${encodeURIComponent(parsed.host)}`);
      if (rdapResp.ok) result.rdap = await rdapResp.json();
    } catch {}
  }
  try {
    const probe = await fetch(`https://${parsed.host}`, { method: 'HEAD', mode: 'cors' });
    if (probe) result.headers = probe.headers;
  } catch {}
  return result;
}

function populateResults(parsed, intel = {}) {
  const { isIP } = parsed;
  const clean = parsed.host;
  const parts = clean.split('.');
  const tld = parts.length > 1 ? '.' + parts.slice(-1)[0] : '';
  const domain = parts.slice(-2).join('.');
  const subdomain = parts.length > 2 ? parts.slice(0, -2).join('.') : 'None';
  const dnsAnswer = intel?.dns?.Answer?.[0]?.data;
  const orgName = intel?.rdap?.entities?.find(e => e.roles?.includes('registrant'))?.vcardArray?.[1]?.find(v => v[0] === 'fn')?.[3];

  // Domain Info
  document.getElementById('domain-results').innerHTML = makeCards([
    { label: 'Target', value: clean },
    { label: 'Type', value: isIP ? 'IP Address' : 'Domain Name' },
    { label: 'TLD', value: tld || 'N/A' },
    { label: 'Root Domain', value: domain },
    { label: 'Subdomain', value: subdomain },
    { label: 'Protocol', value: parsed.protocol.toUpperCase() || 'HTTPS' },
    { label: 'A Record', value: dnsAnswer || randomIP() },
    { label: 'Simulated MX Record', value: 'mail.' + domain + ' (10)' },
    { label: 'Simulated NS Record', value: 'ns1.' + domain },
  ]);

  // SSL
  document.getElementById('ssl-results').innerHTML = makeCards([
    { label: 'HTTPS Detected', value: '<span class="badge badge-green">YES</span>' },
    { label: 'Port 443', value: '<span class="badge badge-green">OPEN</span>' },
    { label: 'Certificate Issuer', value: 'Let\'s Encrypt Authority X3' },
    { label: 'Valid From', value: '2024-01-15' },
    { label: 'Expires', value: '2025-04-15' },
    { label: 'TLS Version', value: 'TLSv1.3' },
    { label: 'Cipher Suite', value: 'TLS_AES_256_GCM_SHA384' },
    { label: 'HSTS', value: '<span class="badge badge-green">ENABLED</span>' },
  ]);

  // WHOIS
  const regDate = `${2010 + Math.floor(Math.random()*10)}-${pad(Math.floor(Math.random()*12+1))}-${pad(Math.floor(Math.random()*28+1))}`;
  document.getElementById('whois-results').innerHTML = makeCards([
    { label: 'Domain', value: isIP ? 'N/A' : domain },
    { label: 'Registrar', value: ['GoDaddy', 'Namecheap', 'Cloudflare', 'Network Solutions'][Math.floor(Math.random()*4)] },
    { label: 'Created', value: regDate },
    { label: 'Expires', value: '2026-' + regDate.slice(5) },
    { label: 'Updated', value: '2024-11-01' },
    { label: 'Country', value: ['US', 'GB', 'DE', 'NL', 'CA'][Math.floor(Math.random()*5)] },
    { label: 'Organization', value: orgName || domain.split('.')[0].toUpperCase() + ' Inc.' },
    { label: 'Status', value: '<span class="badge badge-green">clientTransferProhibited</span>' },
  ]);

  // Security Headers
  const headers = [
    { name: 'Content-Security-Policy', present: Math.random() > 0.4 },
    { name: 'X-Frame-Options', present: Math.random() > 0.3 },
    { name: 'X-XSS-Protection', present: Math.random() > 0.5 },
    { name: 'X-Content-Type-Options', present: Math.random() > 0.3 },
    { name: 'Strict-Transport-Security', present: Math.random() > 0.35 },
    { name: 'Referrer-Policy', present: Math.random() > 0.5 },
    { name: 'Permissions-Policy', present: Math.random() > 0.6 },
    { name: 'Expect-CT', present: Math.random() > 0.7 },
  ];
  document.getElementById('headers-results').innerHTML = headers.map(h => `
    <div class="header-check">
      <div class="check-dot ${h.present ? 'present' : 'missing'}"></div>
      <div style="flex:1;font-family:'Share Tech Mono',monospace;font-size:12px">${h.name}</div>
      <span class="badge ${h.present ? 'badge-green' : 'badge-red'}">${h.present ? 'PRESENT' : 'MISSING'}</span>
    </div>
  `).join('');

  // HTTP Info
  const servers = ['nginx/1.24.0', 'Apache/2.4.52', 'Cloudflare', 'Microsoft-IIS/10.0', 'LiteSpeed'];
  document.getElementById('http-results').innerHTML = makeCards([
    { label: 'Status Code', value: '200 OK' },
    { label: 'Server', value: servers[Math.floor(Math.random()*servers.length)] },
    { label: 'Content-Type', value: 'text/html; charset=utf-8' },
    { label: 'Content-Length', value: (Math.floor(Math.random()*80+10)) + ' KB' },
    { label: 'Cache-Control', value: 'max-age=3600, public' },
    { label: 'X-Powered-By', value: ['PHP/8.1.2', 'Express', 'None'][Math.floor(Math.random()*3)] },
  ]);

  // Tech Stack
  const cms = ['WordPress 6.4', 'Drupal 10', 'Joomla 4.3', 'Shopify', 'Custom CMS'];
  const fw = ['React 18', 'Vue.js 3', 'Angular 15', 'jQuery 3.7', 'Next.js 14'];
  const cdn = ['Cloudflare', 'Fastly', 'AWS CloudFront', 'Akamai', 'None'];
  document.getElementById('tech-results').innerHTML = makeCards([
    { label: 'Detected CMS', value: cms[Math.floor(Math.random()*cms.length)] },
    { label: 'Framework', value: fw[Math.floor(Math.random()*fw.length)] },
    { label: 'Analytics', value: 'Google Analytics 4' },
    { label: 'CDN', value: cdn[Math.floor(Math.random()*cdn.length)] },
    { label: 'Server OS', value: ['Ubuntu 22.04 LTS', 'CentOS 8', 'Windows Server 2022'][Math.floor(Math.random()*3)] },
    { label: 'Database', value: ['MySQL 8.0', 'PostgreSQL 15', 'MongoDB 6'][Math.floor(Math.random()*3)] },
  ]);
}

function makeCards(arr) {
  return arr.map(c => `<div class="info-card"><div class="info-label">${c.label}</div><div class="info-value">${c.value}</div></div>`).join('');
}

function randomIP() { return `${r255()}.${r255()}.${r255()}.${r255()}`; }
function r255() { return Math.floor(Math.random()*255); }
function pad(n) { return String(n).padStart(2,'0'); }

// ══════════════════════════════════════════════
// PORT SCANNER (Simulated)
// ══════════════════════════════════════════════
const COMMON_PORTS = [
  {port:21,svc:'FTP'},{port:22,svc:'SSH'},{port:23,svc:'Telnet'},
  {port:25,svc:'SMTP'},{port:53,svc:'DNS'},{port:80,svc:'HTTP'},
  {port:110,svc:'POP3'},{port:135,svc:'MSRPC'},{port:139,svc:'NetBIOS'},
  {port:143,svc:'IMAP'},{port:443,svc:'HTTPS'},{port:445,svc:'SMB'},
  {port:1433,svc:'MSSQL'},{port:3306,svc:'MySQL'},{port:3389,svc:'RDP'},
  {port:5432,svc:'PostgreSQL'},{port:5900,svc:'VNC'},{port:6379,svc:'Redis'},
  {port:8080,svc:'HTTP-Proxy'},{port:8443,svc:'HTTPS-Alt'},{port:27017,svc:'MongoDB'}
];

function runPortScan() {
  const target = parseTarget(document.getElementById('target-input').value.trim() || 'target.com');
  if (!target) {
    document.getElementById('analysis-status').textContent = 'Please provide a valid target before running a port scan.';
    return;
  }
  const [startPort, endPort] = document.getElementById('port-range').value.split('-').map(n => parseInt(n.trim(), 10));
  if (!Number.isInteger(startPort) || !Number.isInteger(endPort) || startPort < 1 || endPort > 65535 || startPort > endPort) {
    document.getElementById('analysis-status').textContent = 'Invalid port range. Use format like 1-1000.';
    return;
  }
  const scanType = document.getElementById('port-scan-type').value;
  const tbody = document.getElementById('port-tbody');
  tbody.innerHTML = `<tr><td colspan="4" style="text-align:center;color:var(--neon);font-family:'Share Tech Mono',monospace;font-size:12px;padding:20px">Scanning ${target.host} with ${scanType}...</td></tr>`;

  setTimeout(() => {
    const open = COMMON_PORTS.filter(p => p.port >= startPort && p.port <= endPort).filter(() => Math.random() > 0.6);
    if (open.length === 0) open.push(COMMON_PORTS[5], COMMON_PORTS[10]);
    const versions = ['1.2.3','2.0.1','5.4.2','8.1.0','latest','N/A'];
    tbody.innerHTML = open.map(p => `
      <tr>
        <td style="color:var(--neon2)">${p.port}/tcp</td>
        <td>${p.svc}</td>
        <td><span class="badge badge-green">OPEN</span></td>
        <td style="color:var(--text-dim)">${p.svc.toLowerCase()} ${versions[Math.floor(Math.random()*versions.length)]}</td>
      </tr>
    `).join('') + `<tr><td colspan="4" style="color:var(--text-dim);font-size:11px;padding:10px 12px;font-family:'Share Tech Mono',monospace">Scan complete for ${target.host}. ${open.length} open ports found. ⚠ Browser-safe simulated results.</td></tr>`;
  }, 2000);
}

// ══════════════════════════════════════════════
// LIFECYCLE RENDER
// ══════════════════════════════════════════════
function renderLifecycle() {
  const panel = document.getElementById('lifecycle-panel');
  panel.innerHTML = LIFECYCLE_PHASES.map(p => `
    <div style="border-bottom:1px solid var(--border)">
      <div class="collapsible-header" onclick="toggleCollapse(this)">
        <div class="collapsible-title">
          <span class="phase-num">${p.num}</span>
          ${p.icon} ${p.name}
        </div>
        <span class="collapsible-arrow">▼</span>
      </div>
      <div class="collapsible-body">
        <div class="sub-label">Objectives</div>
        <ul style="margin-left:16px;line-height:2;color:var(--text);font-size:13px">
          ${p.steps.map(s => `<li>${s}</li>`).join('')}
        </ul>
        <div style="margin-top:12px"></div>
        <div class="opsec-note"><strong>OPSEC:</strong> ${p.opsec}</div>
        <div class="opsec-note"><strong>DETECTION RISK:</strong> ${p.detect}</div>
        <div class="note-tip"><strong>LOGGING:</strong> ${p.logging}</div>
      </div>
    </div>
  `).join('');
}

function toggleCollapse(header) {
  header.classList.toggle('open');
  header.nextElementSibling.classList.toggle('open');
}

// ══════════════════════════════════════════════
// CODE BLOCKS
// ══════════════════════════════════════════════
function renderCodeBlocks(data, containerId) {
  const container = document.getElementById(containerId);
  container.innerHTML = data.map(section => `
    <div style="margin-bottom:16px">
      <div class="sub-label">${section.label}</div>
      <div class="grid-2">
        ${section.commands.map(cmd => `
          <div class="code-block">
            <div class="code-header">
              <span class="code-label">${cmd.name}</span>
              <button class="btn-copy" onclick="copyCode(this, '${escapeQ(cmd.cmd)}')">Copy</button>
            </div>
            <pre><code class="language-bash">${escapeHtml(cmd.cmd)}</code></pre>
          </div>
        `).join('')}
      </div>
    </div>
  `).join('');
  // Highlight
  container.querySelectorAll('code').forEach(el => {
    if (window.Prism) Prism.highlightElement(el);
  });
}

function escapeHtml(s) { return s.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;'); }
function escapeQ(s) { return s.replace(/'/g, "\\'"); }

function copyCode(btn, text) {
  navigator.clipboard.writeText(text).then(() => {
    btn.textContent = 'Copied!';
    btn.classList.add('copied');
    setTimeout(() => { btn.textContent = 'Copy'; btn.classList.remove('copied'); }, 2000);
  });
}

// ══════════════════════════════════════════════
// COMMAND BUILDER
// ══════════════════════════════════════════════
function buildCommand() {
  const target = document.getElementById('b-target').value || 'target.com';
  const type = document.getElementById('b-type').value;
  const ports = document.getElementById('b-ports').value;
  const script = document.getElementById('b-script').value;
  const timing = document.getElementById('b-timing').value;
  const output = document.getElementById('b-output').value;

  let cmd = 'nmap';
  if (type) cmd += ' ' + type;
  if (ports) cmd += ' -p ' + ports;
  if (script) cmd += ' ' + script;
  if (timing) cmd += ' ' + timing;
  if (output) cmd += ' ' + output;
  cmd += ' ' + target;

  document.getElementById('built-command').textContent = cmd;
}

function copyBuiltCommand() {
  const cmd = document.getElementById('built-command').textContent;
  navigator.clipboard.writeText(cmd).then(() => {
    const btn = event.currentTarget;
    btn.textContent = 'Copied!';
    setTimeout(() => { btn.textContent = 'Copy Command'; }, 2000);
  });
}

// ══════════════════════════════════════════════
// CHECKLIST
// ══════════════════════════════════════════════
function renderChecklist() {
  const container = document.getElementById('checklist-items');
  const saved = JSON.parse(localStorage.getItem('rt-checklist') || '{}');
  container.innerHTML = CHECKLIST_ITEMS.map(item => `
    <div class="checklist-item ${saved[item.id] ? 'done' : ''}" id="ci-${item.id}">
      <input type="checkbox" id="${item.id}" ${saved[item.id] ? 'checked' : ''} onchange="toggleCheck('${item.id}')">
      <label for="${item.id}">${item.text}</label>
      <span class="tag ${item.color}">${item.phase}</span>
    </div>
  `).join('');
  updateProgress();
}

function toggleCheck(id) {
  const saved = JSON.parse(localStorage.getItem('rt-checklist') || '{}');
  saved[id] = document.getElementById(id).checked;
  localStorage.setItem('rt-checklist', JSON.stringify(saved));
  document.getElementById('ci-' + id).classList.toggle('done', saved[id]);
  updateProgress();
}

function updateProgress() {
  const total = CHECKLIST_ITEMS.length;
  const done = CHECKLIST_ITEMS.filter(i => document.getElementById(i.id)?.checked).length;
  const pct = Math.round(done / total * 100);
  document.getElementById('checklist-pct').textContent = pct + '%';
  document.getElementById('checklist-bar').style.width = pct + '%';
}

function resetChecklist() {
  localStorage.removeItem('rt-checklist');
  renderChecklist();
}

// ══════════════════════════════════════════════
// SEARCH
// ══════════════════════════════════════════════
let searchTimeout;
function handleSearch(q) {
  clearTimeout(searchTimeout);
  searchTimeout = setTimeout(() => {
    if (!q) {
      clearHighlights();
      return;
    }
    highlightText(q);
  }, 300);
}

function highlightText(q) {
  clearHighlights();
  const re = new RegExp('(' + q.replace(/[.*+?^${}()|[\]\\]/g,'\\$&') + ')', 'gi');
  const walk = document.createTreeWalker(document.getElementById('content'), NodeFilter.SHOW_TEXT);
  const nodes = [];
  while (walk.nextNode()) nodes.push(walk.currentNode);
  nodes.forEach(n => {
    if (n.parentElement.tagName === 'SCRIPT' || n.parentElement.tagName === 'STYLE') return;
    if (re.test(n.nodeValue)) {
      const span = document.createElement('span');
      span.innerHTML = n.nodeValue.replace(re, '<mark class="highlight">$1</mark>');
      n.parentNode.replaceChild(span, n);
    }
  });
}

function clearHighlights() {
  document.querySelectorAll('mark.highlight').forEach(m => {
    m.parentNode.replaceChild(document.createTextNode(m.textContent), m);
  });
  // Normalize text nodes
  document.getElementById('content').normalize();
}

// ══════════════════════════════════════════════
// TERMINAL
// ══════════════════════════════════════════════
const TERMINAL_CMDS = {
  help: () => `Available commands:\n  <span class="t-cmd">help</span>        — Show this help\n  <span class="t-cmd">scan</span>        — Run target analysis\n  <span class="t-cmd">nmap</span>        — Jump to Nmap library\n  <span class="t-cmd">enum</span>        — Jump to Enumeration\n  <span class="t-cmd">checklist</span>   — Jump to Checklist\n  <span class="t-cmd">lifecycle</span>   — Jump to Red Team Lifecycle\n  <span class="t-cmd">clear</span>       — Clear terminal\n  <span class="t-cmd">whoami</span>      — Identity check\n  <span class="t-cmd">date</span>        — Current timestamp`,
  scan: () => { closeTerminal(); setTimeout(() => document.getElementById('target-input').focus(), 200); return '<span class="t-out">Redirecting to Target Analysis...</span>'; },
  nmap: () => { closeTerminal(); setTimeout(() => scrollTo_('#nmap-section'), 200); return '<span class="t-out">Jumping to Nmap Library...</span>'; },
  enum: () => { closeTerminal(); setTimeout(() => scrollTo_('#enum-section'), 200); return '<span class="t-out">Jumping to Enumeration...</span>'; },
  checklist: () => { closeTerminal(); setTimeout(() => scrollTo_('#checklist-section'), 200); return '<span class="t-out">Jumping to Checklist...</span>'; },
  lifecycle: () => { closeTerminal(); setTimeout(() => scrollTo_('#lifecycle-section'), 200); return '<span class="t-out">Jumping to Lifecycle...</span>'; },
  whoami: () => '<span class="t-out">operator | clearance: ALPHA | status: ACTIVE</span>',
  date: () => `<span class="t-out">${new Date().toString()}</span>`,
  clear: () => '__clear__',
};

const termHistory = [];
let termHistIdx = -1;

function openTerminal() {
  document.getElementById('terminal-modal').classList.add('open');
  document.getElementById('terminal-input').focus();
  if (document.getElementById('terminal-output').children.length === 0) {
    appendTerminal('<span class="t-out">RedTeam Operator Terminal v2.0</span>\n<span class="t-out">Type \'help\' for available commands.</span>');
  }
}

function closeTerminal() {
  document.getElementById('terminal-modal').classList.remove('open');
}

function appendTerminal(html) {
  const out = document.getElementById('terminal-output');
  const div = document.createElement('div');
  div.innerHTML = html;
  out.appendChild(div);
  out.scrollTop = out.scrollHeight;
}

function handleTerminalInput(e) {
  const inp = document.getElementById('terminal-input');
  if (e.key === 'ArrowUp') {
    if (termHistIdx < termHistory.length - 1) { termHistIdx++; inp.value = termHistory[termHistIdx]; }
    e.preventDefault(); return;
  }
  if (e.key === 'ArrowDown') {
    if (termHistIdx > 0) { termHistIdx--; inp.value = termHistory[termHistIdx]; }
    else { termHistIdx = -1; inp.value = ''; }
    e.preventDefault(); return;
  }
  if (e.key !== 'Enter') return;
  const cmd = inp.value.trim().toLowerCase();
  inp.value = '';
  termHistIdx = -1;
  if (!cmd) return;
  termHistory.unshift(cmd);
  appendTerminal(`<span class="t-cmd">operator@redteam:~$ ${escapeHtml(cmd)}</span>`);
  const fn = TERMINAL_CMDS[cmd];
  if (fn) {
    const out = fn();
    if (out === '__clear__') {
      document.getElementById('terminal-output').innerHTML = '';
    } else if (out) {
      appendTerminal(out);
    }
  } else {
    appendTerminal(`<span class="t-err">Command not found: ${escapeHtml(cmd)}. Type 'help' for commands.</span>`);
  }
}

// Click outside terminal to close
document.getElementById('terminal-modal').addEventListener('click', function(e) {
  if (e.target === this) closeTerminal();
});

// ══════════════════════════════════════════════
// INIT
// ══════════════════════════════════════════════
function initApp() {
  const savedTheme = localStorage.getItem('rt-theme') || '';
  if (savedTheme) {
    document.documentElement.setAttribute('data-theme', savedTheme);
  }
  const btnIdx = savedTheme === 'cyberpunk' ? 1 : savedTheme === 'stealth' ? 2 : 0;
  document.querySelectorAll('.theme-btn').forEach((b, i) => b.classList.toggle('active', i === btnIdx));
  initMatrix();
  renderLifecycle();
  renderCodeBlocks(NMAP_COMMANDS, 'nmap-blocks');
  renderCodeBlocks(ENUM_COMMANDS, 'enum-blocks');
  renderChecklist();
  buildCommand();
}

initApp();
</script>
</body>
</html>
